<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.6.2">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2018-01-10T02:15:31+08:00</updated><id>/</id><title type="html">倪思宇的小黄鸭</title><subtitle>Do something fun!</subtitle><entry><title type="html">关于学习和提问方法的感悟</title><link href="/uncategorized/2017/11/14/e5-85-b3-e4-ba-8e-e5-ad-a6-e4-b9-a0-e5-92-8c-e6-8f-90-e9-97-ae-e6-96-b9-e6-b3-95-e7-9a-84-e6-84-9f-e6-82-9f.html" rel="alternate" type="text/html" title="关于学习和提问方法的感悟" /><published>2017-11-14T16:54:36+08:00</published><updated>2017-11-14T16:54:36+08:00</updated><id>/uncategorized/2017/11/14/%E5%85%B3%E4%BA%8E%E5%AD%A6%E4%B9%A0%E5%92%8C%E6%8F%90%E9%97%AE%E6%96%B9%E6%B3%95%E7%9A%84%E6%84%9F%E6%82%9F</id><content type="html" xml:base="/uncategorized/2017/11/14/e5-85-b3-e4-ba-8e-e5-ad-a6-e4-b9-a0-e5-92-8c-e6-8f-90-e9-97-ae-e6-96-b9-e6-b3-95-e7-9a-84-e6-84-9f-e6-82-9f.html">&lt;p&gt;上周我在公司进行了一些分享，主要是想以非技术的视角，说一些自己进步的动力和一些原因。&lt;/p&gt;
&lt;p&gt;我把工作分成了三个阶段，第一个阶段是初级的阶段，第二个阶段是突破自己的阶段，第三个阶段就是挑选自己爱的技术进行钻研的阶段。&lt;/p&gt;
&lt;p&gt;初级阶段，我倔强也不爱问人，造成了进步比较慢。&lt;br /&gt;
第二阶段也并没有变得爱问人问题，但是我开始尝试自己修改别人的代码运行，后来就发现原来有些没接触的框架也没那么难，自己试着做一做总能做出来，于是突破了自己，自此之后感觉前端问题都能通过自己研究研究出来。&lt;br /&gt;
第三阶段就是不断练级的阶段，自己读文档，找项目，找issue来帮助自己解决一些问题，并且自己通过读源码来解决问题。&lt;/p&gt;
&lt;p&gt;有时候自己钻研效率低，但辩证地看，自己钻研促使了我成为了一名工作中比较独立的工程师，同事有很多时候并不是研究自己遇到问题的专家，即使他们更有经验他们也需要重新学习，有可能会耗费很长的时间。自己建立一套思维过程比什么都重要。&lt;/p&gt;
&lt;p&gt;自己其实一直在酝酿，什么时候该向身边更有经验的工程师求助这个话题。&lt;br /&gt;
1. 遇到什么事情，首先选择调研，项目官方文档和搜索引擎能告诉自己的事，绝对不应该麻烦别人。&lt;br /&gt;
2. 没有相关内容，可以进行求助，但是需要有些条件。包括描述自己现在遇到的状况背景，以及自己尝试过的方法，遇到的错误。这样可以给出很多信息给被求助者，排除错误答案或者节省尝试时间，而且也会更赞赏你是一个动脑子的人。&lt;br /&gt;
3. 当自己的背景知识高度太低以至于搜索引擎很难帮助到自己的时候，毫不犹豫应该麻烦别人给自己进行一次知识普及。例如不知道一个特殊的技术名词，只能用通俗语言描述现象时，该问一下相关的技术名词是什么，否则连搜索引擎搜索的关键词都不知道写什么。这些技术名词可以说是你和这个世界的共同语言，这点共同语言其实也应该在平时的学习中进行积累，多看点未必有立即直接作用的内容，储备下来在脑海中成为索引，这样才能使前两步更加有效。&lt;/p&gt;</content><author><name>{&quot;display_name&quot;=&gt;&quot;nisiyu&quot;, &quot;login&quot;=&gt;&quot;nisiyu&quot;, &quot;email&quot;=&gt;&quot;nisiyu91@sina.com&quot;, &quot;url&quot;=&gt;&quot;&quot;}</name><email>nisiyu91@sina.com</email></author><summary type="html">上周我在公司进行了一些分享，主要是想以非技术的视角，说一些自己进步的动力和一些原因。 我把工作分成了三个阶段，第一个阶段是初级的阶段，第二个阶段是突破自己的阶段，第三个阶段就是挑选自己爱的技术进行钻研的阶段。 初级阶段，我倔强也不爱问人，造成了进步比较慢。 第二阶段也并没有变得爱问人问题，但是我开始尝试自己修改别人的代码运行，后来就发现原来有些没接触的框架也没那么难，自己试着做一做总能做出来，于是突破了自己，自此之后感觉前端问题都能通过自己研究研究出来。 第三阶段就是不断练级的阶段，自己读文档，找项目，找issue来帮助自己解决一些问题，并且自己通过读源码来解决问题。 有时候自己钻研效率低，但辩证地看，自己钻研促使了我成为了一名工作中比较独立的工程师，同事有很多时候并不是研究自己遇到问题的专家，即使他们更有经验他们也需要重新学习，有可能会耗费很长的时间。自己建立一套思维过程比什么都重要。 自己其实一直在酝酿，什么时候该向身边更有经验的工程师求助这个话题。 1. 遇到什么事情，首先选择调研，项目官方文档和搜索引擎能告诉自己的事，绝对不应该麻烦别人。 2. 没有相关内容，可以进行求助，但是需要有些条件。包括描述自己现在遇到的状况背景，以及自己尝试过的方法，遇到的错误。这样可以给出很多信息给被求助者，排除错误答案或者节省尝试时间，而且也会更赞赏你是一个动脑子的人。 3. 当自己的背景知识高度太低以至于搜索引擎很难帮助到自己的时候，毫不犹豫应该麻烦别人给自己进行一次知识普及。例如不知道一个特殊的技术名词，只能用通俗语言描述现象时，该问一下相关的技术名词是什么，否则连搜索引擎搜索的关键词都不知道写什么。这些技术名词可以说是你和这个世界的共同语言，这点共同语言其实也应该在平时的学习中进行积累，多看点未必有立即直接作用的内容，储备下来在脑海中成为索引，这样才能使前两步更加有效。</summary></entry><entry><title type="html">那些年玩前端遇到的坑们（六）——vuejs与异步组件</title><link href="/uncategorized/2017/09/26/vuejs_async.html" rel="alternate" type="text/html" title="那些年玩前端遇到的坑们（六）&amp;mdash;&amp;mdash;vuejs与异步组件" /><published>2017-09-26T17:30:26+08:00</published><updated>2017-09-26T17:30:26+08:00</updated><id>/uncategorized/2017/09/26/vuejs_async</id><content type="html" xml:base="/uncategorized/2017/09/26/vuejs_async.html">&lt;p&gt;最近对我司产品进行了一点小小的优化，难度不大，但过程有点小小的波折，&lt;/p&gt;
&lt;p&gt;0x00 缘起&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;我们的vendor.js有2M，app.js有1M，天呐？那么大，我们的项目文件下载就很慢了！&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;当老板感叹起这个的时候，刚刚熟读过vuejs官方文档的我提出来，我们还有异步组件这一项可以试试哟，有很多很多的组件其实不用全部载入，比如我们的代码编辑功能并没有开放入口，而且只有少数人才会用，但是引入的codemirror库却很大。&lt;a href=&quot;https://cn.vuejs.org/v2/guide/components.html#异步组件&quot;&gt;vuejs异步组件&lt;/a&gt;文档中提到了，可以实现按需加载。&lt;/p&gt;
&lt;p&gt;0x01 拨开云雾&lt;/p&gt;
&lt;p&gt;那个章节写了一堆，异步的require之类的有点糊涂，慢慢地进行尝试，然后又阅读了&lt;a href=&quot;https://webpack.js.org/guides/code-splitting/#dynamic-imports&quot;&gt;webpack相关文档&lt;/a&gt;。发现其实跟vuejs基本上没啥关系，主要就是webpack提供的功能，总的来说要实现按需加载需要有几个条件：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;需要用webpack2.6及以上&lt;/li&gt;
&lt;li&gt;ES6的话可以用import()函数方法（有async function也可以用async function的语法）&lt;/li&gt;
&lt;li&gt;如果要将多个异步组件打包到一个包中，需要用注释来指定chunk名字，这样既能够与&lt;a href=&quot;https://whatwg.github.io/loader/&quot;&gt;ES2015 Loader spec&lt;/a&gt;规范相符，webpack也可以实现自己的特性。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;0x02 渐入佳境&lt;/p&gt;
&lt;p&gt;我们的工程是基于vue-cli生成的，可能版本不是特别新，webpack版本只有2.2，升级到2.7，这一步轻松解决。&lt;/p&gt;
&lt;p&gt;在一些特定的异步组件将原来的import依赖的方式改写&lt;/p&gt;
&lt;p&gt;如&lt;/p&gt;
&lt;p&gt;import EditorLayout from 'src/layouts/EditorLayout'改写为&lt;/p&gt;
&lt;p&gt;const EditorLayout = ()=&gt;import(/* webpackChunkName: &quot;editor&quot; */ 'src/layouts/EditorLayout')&lt;/p&gt;
&lt;p&gt;这样看来可以说是相当简单了。webpack编译的时候，import()函数会变为一个promise，当依赖这个组件时会发起ajax请求，请求组件的代码。&lt;/p&gt;
&lt;p&gt;但在编译时却不太对，并没有编译出想要的editor.js。还有一些组件也想打包在一起，却出现了0.js 1.js 2.js.....&lt;/p&gt;
&lt;p&gt;0x03 小波折&lt;/p&gt;
&lt;p&gt;可以说百度上找到的中文博客中，内容都很垃圾，很多感觉就是将一些文档翻译了遍，可能也没有亲手操作过。于是google上搜索了&quot;vuejs webpack code splitting doesn't work&quot;这样的关键字，找了几个就在某个vue的项目的issue中找到了&lt;a href=&quot;https://github.com/vuejs-templates/webpack/issues/730&quot;&gt;解决方案&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;原来之前搭建项目时用的boilerplate项目的.babelrc用了&lt;strong&gt;comments: false&lt;/strong&gt;的选项，用babel-loader载入进webpack时，webpack获取的输入中已经没有了注释，所以用作标注chunkname的注释没有了，所以所有的chunk就分散开来，变成了数字名字的代码。&lt;/p&gt;
&lt;p&gt;所以&lt;strong&gt;在.babelrc中修改comments为true即可&lt;/strong&gt;。&lt;/p&gt;</content><author><name>{&quot;display_name&quot;=&gt;&quot;nisiyu&quot;, &quot;login&quot;=&gt;&quot;nisiyu&quot;, &quot;email&quot;=&gt;&quot;nisiyu91@sina.com&quot;, &quot;url&quot;=&gt;&quot;&quot;}</name><email>nisiyu91@sina.com</email></author><category term="vue" /><category term="异步组件" /><category term="babelrc" /><category term="块名称" /><summary type="html">最近对我司产品进行了一点小小的优化，难度不大，但过程有点小小的波折， 0x00 缘起 我们的vendor.js有2M，app.js有1M，天呐？那么大，我们的项目文件下载就很慢了！ 当老板感叹起这个的时候，刚刚熟读过vuejs官方文档的我提出来，我们还有异步组件这一项可以试试哟，有很多很多的组件其实不用全部载入，比如我们的代码编辑功能并没有开放入口，而且只有少数人才会用，但是引入的codemirror库却很大。vuejs异步组件文档中提到了，可以实现按需加载。 0x01 拨开云雾 那个章节写了一堆，异步的require之类的有点糊涂，慢慢地进行尝试，然后又阅读了webpack相关文档。发现其实跟vuejs基本上没啥关系，主要就是webpack提供的功能，总的来说要实现按需加载需要有几个条件： 需要用webpack2.6及以上 ES6的话可以用import()函数方法（有async function也可以用async function的语法） 如果要将多个异步组件打包到一个包中，需要用注释来指定chunk名字，这样既能够与ES2015 Loader spec规范相符，webpack也可以实现自己的特性。 0x02 渐入佳境 我们的工程是基于vue-cli生成的，可能版本不是特别新，webpack版本只有2.2，升级到2.7，这一步轻松解决。 在一些特定的异步组件将原来的import依赖的方式改写 如 import EditorLayout from 'src/layouts/EditorLayout'改写为 const EditorLayout = ()=&gt;import(/* webpackChunkName: &quot;editor&quot; */ 'src/layouts/EditorLayout') 这样看来可以说是相当简单了。webpack编译的时候，import()函数会变为一个promise，当依赖这个组件时会发起ajax请求，请求组件的代码。 但在编译时却不太对，并没有编译出想要的editor.js。还有一些组件也想打包在一起，却出现了0.js 1.js 2.js..... 0x03 小波折 可以说百度上找到的中文博客中，内容都很垃圾，很多感觉就是将一些文档翻译了遍，可能也没有亲手操作过。于是google上搜索了&quot;vuejs webpack code splitting doesn't work&quot;这样的关键字，找了几个就在某个vue的项目的issue中找到了解决方案 原来之前搭建项目时用的boilerplate项目的.babelrc用了comments: false的选项，用babel-loader载入进webpack时，webpack获取的输入中已经没有了注释，所以用作标注chunkname的注释没有了，所以所有的chunk就分散开来，变成了数字名字的代码。 所以在.babelrc中修改comments为true即可。</summary></entry><entry><title type="html">干前端一年后</title><link href="/uncategorized/2017/08/13/after_one_year.html" rel="alternate" type="text/html" title="干前端一年后" /><published>2017-08-13T12:37:50+08:00</published><updated>2017-08-13T12:37:50+08:00</updated><id>/uncategorized/2017/08/13/after_one_year</id><content type="html" xml:base="/uncategorized/2017/08/13/after_one_year.html">&lt;p&gt;一晃时间已经到了8月份，我转行也转了一年了，我在生日的后一天到新公司报到，然后新公司今年给我过生日时，也就到了整整一年。&lt;/p&gt;
&lt;p&gt;今天突然想起来要更新一下博客，总结一下自己这一年来的心路历程。想想自己的路该如何继续。&lt;/p&gt;
&lt;p&gt;去年8月份到年底，可以算是第一个阶段，我以前没有做过什么前端的项目，也就是准备面试题的时候大致了解了一下包含了哪些东西。一开始起步的时候主要是为我们的产品做模版，无外乎就是写一些模版文件和对应的css，懂了大致的模版的运作，然后学会了sass之类的东西，在公司已经搭好的项目框架中填内容，也有boilerplate，所以就成为了页面仔，开始熟悉起了各种样式。至今，css仍然是我很不喜欢的一样东西，因为搞兼容时会觉得它根本不讲道理。。。&lt;/p&gt;
&lt;p&gt;后来到了今年，做过3个模版的我，会把自己的心放在如何变得更厉害上。但是周围对我的诉求都是修改模版之类的，和设计稿不是很一致要叫我改，和设计稿一致了但觉得不太好还是要我改。有时也会心理上不舒服，觉得好像是别人对我的工作不认可，就当即怼回去，&amp;ldquo;你觉得这样好，我还觉得那样好呢。&amp;rdquo; 有时侯会搞得不太愉快，不过我还是很高兴的，起码大家的出发点都是为了公司为了共同的事业好，跟某为的情况完全不一样。不过这就让我隐隐有点担心，一直做改个style这样的工作，没什么提升啊，于是我就找机会主动担起修改店铺页面框架和建站工具的工作，也是渐渐地handle住了公司所有的前端代码库，这里面我最喜欢干的还是修改建站工具来着，因为觉得比较特别，不像普通的curd程序，做起来好玩。&lt;/p&gt;
&lt;p&gt;公司走了两个比较有经验的程序员，所以我也是渐渐地挑起了一些梁，比如最近就在将原先的react版的建站工具改成vue版的。（起初修改似乎是reduxform经常会有些奇怪的问题搞不懂，所以换了）总的来说，我觉得框架并没有太大的区别，但我个人不是很喜欢看jsx的语法，觉得vue的模版语法看上去更舒服一点。在重写的过程中遇到了不少困难，不过好在都一一解决了。&lt;/p&gt;
&lt;p&gt;这一年来呢，我有些基本的进步，但毕竟我还是有着收入大幅上升且增加水平的目标，这点进步根本不快。&lt;/p&gt;
&lt;p&gt;我有的时候会觉得&amp;ldquo;这样设计又不一定好，我不想做，而且代码实现起来也不优雅&amp;rdquo;这样的固执，但是我觉得是不太好的，好不好还是应该让运营和产品经理负责，研发人员最重要的还是要执行力，一个人一个想法很难将一个多人协作的产品推行下去。比如一件东西不好，再通过快速迭代修改过来，我觉得也是没错的。&lt;/p&gt;
&lt;p&gt;所以我想的就是，在我职业生涯的第二年，我的第一个目标就是要做得更快更快，我有很多时间现在还是在&amp;rdquo;调程序&amp;ldquo;中度过的，应该要变得更成熟一点，对自己写的东西更有信心一些。做得快------我认为在初创公司中很能代表我在这个工种上的价值，还需要摸索摸索。目前先想到这两件事：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&amp;nbsp;减少写一句看一句的动作，靠写基本的单元测试之类的来保证&lt;/li&gt;
&lt;li&gt;写每一个feature前也更加做好整个系统的规划，记录下来，待做好之后回顾与 预想之间的区别，总结一下自己哪里容易没想到。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;好的，先这样吧。我认为可以。&lt;/p&gt;</content><author><name>{&quot;display_name&quot;=&gt;&quot;nisiyu&quot;, &quot;login&quot;=&gt;&quot;nisiyu&quot;, &quot;email&quot;=&gt;&quot;nisiyu91@sina.com&quot;, &quot;url&quot;=&gt;&quot;&quot;}</name><email>nisiyu91@sina.com</email></author><summary type="html">一晃时间已经到了8月份，我转行也转了一年了，我在生日的后一天到新公司报到，然后新公司今年给我过生日时，也就到了整整一年。 今天突然想起来要更新一下博客，总结一下自己这一年来的心路历程。想想自己的路该如何继续。 去年8月份到年底，可以算是第一个阶段，我以前没有做过什么前端的项目，也就是准备面试题的时候大致了解了一下包含了哪些东西。一开始起步的时候主要是为我们的产品做模版，无外乎就是写一些模版文件和对应的css，懂了大致的模版的运作，然后学会了sass之类的东西，在公司已经搭好的项目框架中填内容，也有boilerplate，所以就成为了页面仔，开始熟悉起了各种样式。至今，css仍然是我很不喜欢的一样东西，因为搞兼容时会觉得它根本不讲道理。。。 后来到了今年，做过3个模版的我，会把自己的心放在如何变得更厉害上。但是周围对我的诉求都是修改模版之类的，和设计稿不是很一致要叫我改，和设计稿一致了但觉得不太好还是要我改。有时也会心理上不舒服，觉得好像是别人对我的工作不认可，就当即怼回去，&amp;ldquo;你觉得这样好，我还觉得那样好呢。&amp;rdquo; 有时侯会搞得不太愉快，不过我还是很高兴的，起码大家的出发点都是为了公司为了共同的事业好，跟某为的情况完全不一样。不过这就让我隐隐有点担心，一直做改个style这样的工作，没什么提升啊，于是我就找机会主动担起修改店铺页面框架和建站工具的工作，也是渐渐地handle住了公司所有的前端代码库，这里面我最喜欢干的还是修改建站工具来着，因为觉得比较特别，不像普通的curd程序，做起来好玩。 公司走了两个比较有经验的程序员，所以我也是渐渐地挑起了一些梁，比如最近就在将原先的react版的建站工具改成vue版的。（起初修改似乎是reduxform经常会有些奇怪的问题搞不懂，所以换了）总的来说，我觉得框架并没有太大的区别，但我个人不是很喜欢看jsx的语法，觉得vue的模版语法看上去更舒服一点。在重写的过程中遇到了不少困难，不过好在都一一解决了。 这一年来呢，我有些基本的进步，但毕竟我还是有着收入大幅上升且增加水平的目标，这点进步根本不快。 我有的时候会觉得&amp;ldquo;这样设计又不一定好，我不想做，而且代码实现起来也不优雅&amp;rdquo;这样的固执，但是我觉得是不太好的，好不好还是应该让运营和产品经理负责，研发人员最重要的还是要执行力，一个人一个想法很难将一个多人协作的产品推行下去。比如一件东西不好，再通过快速迭代修改过来，我觉得也是没错的。 所以我想的就是，在我职业生涯的第二年，我的第一个目标就是要做得更快更快，我有很多时间现在还是在&amp;rdquo;调程序&amp;ldquo;中度过的，应该要变得更成熟一点，对自己写的东西更有信心一些。做得快------我认为在初创公司中很能代表我在这个工种上的价值，还需要摸索摸索。目前先想到这两件事： &amp;nbsp;减少写一句看一句的动作，靠写基本的单元测试之类的来保证 写每一个feature前也更加做好整个系统的规划，记录下来，待做好之后回顾与 预想之间的区别，总结一下自己哪里容易没想到。 好的，先这样吧。我认为可以。</summary></entry><entry><title type="html">那些年前端遇到的坑们（五）——拖动排序：react和dragula的小秘密，维持数据的顺序</title><link href="/uncategorized/2017/06/17/react_dragula.html" rel="alternate" type="text/html" title="那些年前端遇到的坑们（五）&amp;mdash;&amp;mdash;拖动排序：react和dragula的小秘密，维持数据的顺序" /><published>2017-06-17T07:04:52+08:00</published><updated>2017-06-17T07:04:52+08:00</updated><id>/uncategorized/2017/06/17/react_dragula</id><content type="html" xml:base="/uncategorized/2017/06/17/react_dragula.html">&lt;p&gt;最近我除了做模版也在做一些可改进的部分，也做了些更有挑战的内容。感觉收获不少，公司的建站工具属于主打产品，最近也修改了很多其中的代码，学习了一些关于react的小技能。&lt;/p&gt;
&lt;p&gt;最近想做一个&amp;ldquo;拖动调整板块顺序&amp;rdquo;的特性，看到前辈写过一段代码是可以给导航菜单拖动排序的，准备学习一下移植到建站工具的页面板块中来。&lt;/p&gt;
&lt;p&gt;0x00 背景说明&lt;/p&gt;
&lt;p&gt;建站工具是一项有些的技术，我司的产品中是在建站工具项目中插入一个iframe，iframe中运行着客户网站的项目，能够和react的项目通信。&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;alignnone size-full wp-image-180&quot; src=&quot;http://45.32.35.73/wordpress/wp-content/uploads/2017/05/WechatIMG95.jpeg&quot; alt=&quot;WechatIMG95&quot; width=&quot;6660&quot; height=&quot;2244&quot; /&gt;&lt;/p&gt;
&lt;p&gt;左侧预览窗口是网站前端的项目，右侧的设置栏是建站工具的项目，它们互相进行通信，通过通信的消息类型和数据回调，保持配置数据和网页前端样式的同步。&lt;/p&gt;
&lt;p&gt;假设网页前端项目叫做Front 建站工具项目叫做Editor，这个特性的流程可以说是这么样的：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在右侧拖动一张卡片，原来顺序是m，拖动到n。&lt;/li&gt;
&lt;li&gt;Editor计算好新的板块顺序的数据，发送给Front。&lt;/li&gt;
&lt;li&gt;Front收到消息后保存了这段数据，重新渲染iframe里的页面，顺序发生改变。&lt;/li&gt;
&lt;li&gt;Front刷新页面后会给Editor发送数据，Editor根据Front的数据来更新卡片顺序（项目以这个前提运行，这段不能不运行）&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;卡片顺序必须缓存着，这样可以快速保存。&lt;br /&gt;
在这里我们选用了react-dragula插件，该插件会生成一个decorator，将一个容器以ref和这个decorator绑定，就可以使这个容器下的子元素变得可以拖动并排序。decorator本身有很多支持的特性，插件的具体用法可以在&lt;a href=&quot;https://github.com/bevacqua/dragula&quot;&gt;https://github.com/bevacqua/dragula&lt;/a&gt;和&lt;a href=&quot;https://github.com/bevacqua/react-dragula&quot;&gt;https://github.com/bevacqua/react-dragula&lt;/a&gt;查看更多&lt;/p&gt;
&lt;p&gt;0x01 问题&lt;/p&gt;
&lt;p&gt;预想流程如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;使用拖动插件拖动&lt;/li&gt;
&lt;li&gt;监听drop事件，根据drag位置和drop位置计算新的顺序存进缓存&lt;/li&gt;
&lt;li&gt;读取缓存中的内容用react中setData的方式刷新页面&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;问题来了，我每次拖动修改顺序后，会跳变两次，&lt;br /&gt;
一次是插件本身的顺序调整，&lt;br /&gt;
还有一次是修改数据引起的调整。&lt;/p&gt;
&lt;p&gt;查看了数据以后，发现数据没有错，更新的数据顺序对了，但是显示的是错的，那就说明react-dragula这个插件本身会保存一个状态，这个状态可能是做过的拖动操作后形成的一个新排序和旧排序的映射。&lt;/p&gt;
&lt;p&gt;然后怎么改都觉得不太成功，于是看了看项目的issue，看了很多，找到了&lt;a href=&quot;https://github.com/bevacqua/dragula/issues/188&quot;&gt;https://github.com/bevacqua/dragula/issues/188&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;这篇文章的标题写的是Option to not move or clone，正是我所想的&amp;ldquo;保留数据，但是摒弃新排序和旧排序的映射&amp;rdquo;，但是作者似乎并没有加这个option，但我从下面找到了react的解决办法，每次drop时重新计算顺序，再改变插件中的状态。不过评论说，在数据量多的时候也许有性能问题，我们的板块最多十来个，所以我就使用了这套方案。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/bevacqua/dragula/issues/188#issuecomment-206762598&quot;&gt;https://github.com/bevacqua/dragula/issues/188#issuecomment-206762598&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;后面我自己的解决和业务太相关就不说了。&lt;br /&gt;
也算是一次比较愉快地通过看issue解决问题地经历～分享一下。&lt;/p&gt;</content><author><name>{&quot;display_name&quot;=&gt;&quot;nisiyu&quot;, &quot;login&quot;=&gt;&quot;nisiyu&quot;, &quot;email&quot;=&gt;&quot;nisiyu91@sina.com&quot;, &quot;url&quot;=&gt;&quot;&quot;}</name><email>nisiyu91@sina.com</email></author><summary type="html">最近我除了做模版也在做一些可改进的部分，也做了些更有挑战的内容。感觉收获不少，公司的建站工具属于主打产品，最近也修改了很多其中的代码，学习了一些关于react的小技能。 最近想做一个&amp;ldquo;拖动调整板块顺序&amp;rdquo;的特性，看到前辈写过一段代码是可以给导航菜单拖动排序的，准备学习一下移植到建站工具的页面板块中来。 0x00 背景说明 建站工具是一项有些的技术，我司的产品中是在建站工具项目中插入一个iframe，iframe中运行着客户网站的项目，能够和react的项目通信。 左侧预览窗口是网站前端的项目，右侧的设置栏是建站工具的项目，它们互相进行通信，通过通信的消息类型和数据回调，保持配置数据和网页前端样式的同步。 假设网页前端项目叫做Front 建站工具项目叫做Editor，这个特性的流程可以说是这么样的： 在右侧拖动一张卡片，原来顺序是m，拖动到n。 Editor计算好新的板块顺序的数据，发送给Front。 Front收到消息后保存了这段数据，重新渲染iframe里的页面，顺序发生改变。 Front刷新页面后会给Editor发送数据，Editor根据Front的数据来更新卡片顺序（项目以这个前提运行，这段不能不运行） 卡片顺序必须缓存着，这样可以快速保存。 在这里我们选用了react-dragula插件，该插件会生成一个decorator，将一个容器以ref和这个decorator绑定，就可以使这个容器下的子元素变得可以拖动并排序。decorator本身有很多支持的特性，插件的具体用法可以在https://github.com/bevacqua/dragula和https://github.com/bevacqua/react-dragula查看更多 0x01 问题 预想流程如下： 使用拖动插件拖动 监听drop事件，根据drag位置和drop位置计算新的顺序存进缓存 读取缓存中的内容用react中setData的方式刷新页面 问题来了，我每次拖动修改顺序后，会跳变两次， 一次是插件本身的顺序调整， 还有一次是修改数据引起的调整。 查看了数据以后，发现数据没有错，更新的数据顺序对了，但是显示的是错的，那就说明react-dragula这个插件本身会保存一个状态，这个状态可能是做过的拖动操作后形成的一个新排序和旧排序的映射。 然后怎么改都觉得不太成功，于是看了看项目的issue，看了很多，找到了https://github.com/bevacqua/dragula/issues/188 这篇文章的标题写的是Option to not move or clone，正是我所想的&amp;ldquo;保留数据，但是摒弃新排序和旧排序的映射&amp;rdquo;，但是作者似乎并没有加这个option，但我从下面找到了react的解决办法，每次drop时重新计算顺序，再改变插件中的状态。不过评论说，在数据量多的时候也许有性能问题，我们的板块最多十来个，所以我就使用了这套方案。 https://github.com/bevacqua/dragula/issues/188#issuecomment-206762598 后面我自己的解决和业务太相关就不说了。 也算是一次比较愉快地通过看issue解决问题地经历～分享一下。</summary></entry><entry><title type="html">那些年玩前端遇到的坑们（四）——两则safari遇到的坑</title><link href="/uncategorized/2017/03/11/safaribugs.html" rel="alternate" type="text/html" title="那些年玩前端遇到的坑们（四）&amp;mdash;&amp;mdash;两则safari遇到的坑" /><published>2017-03-11T04:06:34+08:00</published><updated>2017-03-11T04:06:34+08:00</updated><id>/uncategorized/2017/03/11/safaribugs</id><content type="html" xml:base="/uncategorized/2017/03/11/safaribugs.html">&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;overflow scroll的问题，&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这次我想做一个手机端上方导航的滚动条。我便定义了个固定宽度的容器，然后设置了一个overflow-x:scroll的属性。&lt;/p&gt;
&lt;p&gt;后来这个滚动条仔安卓手机上是完全没问题的，但是iOS上是有问题的。&lt;/p&gt;
&lt;p&gt;搜索了一下stackoverflow的帖子，上面说iOS上的safari是没有滚动条的，所以 scroll是没用的，会无法滚动，用了auto便可以了。&lt;/p&gt;
&lt;p&gt;这一点就让我非常疑惑，像mdn这样的文档里肯定会说，overflow里面的不同属性是干什么的，但是像浏览器中不一样的细节真是让人叫苦，因为用iOS Safari的设备十分多，也不会有本书或者官方的参考告诉大家 overflow scroll这个属性其实是没用的。这也是书上不足的地方，一定要实践才会走过的弯路&lt;/p&gt;
&lt;p&gt;2. 用js取css，css中的字符串会被safari处理&lt;/p&gt;
&lt;p&gt;我在网页中做了一个lightbox的组件。当点击画面中的一些容器，会展示一张图的原图。&lt;/p&gt;
&lt;p&gt;原容器中写了这样的css&lt;/p&gt;
&lt;p&gt;background-image: url(&quot;path/to/image&quot;);&lt;/p&gt;
&lt;p&gt;为了格式统一，我都设定了url的括号中有引号&lt;/p&gt;
&lt;p&gt;lightbox本身只有一个容器，里面有个img标签，当点击画面中容器后，显示lightbox并且把img标签的src置为path/to/image&lt;/p&gt;
&lt;p&gt;所以我就找到这个元素用jquery想取出url，用正则表达式取里面的内容。&lt;/p&gt;
&lt;p&gt;var matchobj = $el.css(&quot;background-image&quot;).match(/^url\(\&quot;(.*)\&quot;\)$/);&lt;/p&gt;
&lt;p&gt;var matchurl = matchobj[1];&lt;/p&gt;
&lt;p&gt;在chrome浏览器中这样写是没问题的，但是在safari浏览器中会报错，无法取一个null对象的下标为1的内容。&lt;/p&gt;
&lt;p&gt;我alert了一下$el.css(&quot;background-image&quot;)，才发现在Safari 浏览器中渲染时，字符串被修改了。得出的字符串是url(path/to/image)，引号被删除了。&lt;/p&gt;
&lt;p&gt;虽然修改正则表达式也能解决，但我觉得用正则来match css中的字符串不是一个好方式，所以就新定义了个属性，data-lightbox=&quot;path/to/url&quot;，在js中通过attr去取，这样可以避免字符串进行处理的问题，而且应该更加快速一点。&lt;/p&gt;</content><author><name>{&quot;display_name&quot;=&gt;&quot;nisiyu&quot;, &quot;login&quot;=&gt;&quot;nisiyu&quot;, &quot;email&quot;=&gt;&quot;nisiyu91@sina.com&quot;, &quot;url&quot;=&gt;&quot;&quot;}</name><email>nisiyu91@sina.com</email></author><summary type="html">&amp;nbsp; overflow scroll的问题， 这次我想做一个手机端上方导航的滚动条。我便定义了个固定宽度的容器，然后设置了一个overflow-x:scroll的属性。 后来这个滚动条仔安卓手机上是完全没问题的，但是iOS上是有问题的。 搜索了一下stackoverflow的帖子，上面说iOS上的safari是没有滚动条的，所以 scroll是没用的，会无法滚动，用了auto便可以了。 这一点就让我非常疑惑，像mdn这样的文档里肯定会说，overflow里面的不同属性是干什么的，但是像浏览器中不一样的细节真是让人叫苦，因为用iOS Safari的设备十分多，也不会有本书或者官方的参考告诉大家 overflow scroll这个属性其实是没用的。这也是书上不足的地方，一定要实践才会走过的弯路 2. 用js取css，css中的字符串会被safari处理 我在网页中做了一个lightbox的组件。当点击画面中的一些容器，会展示一张图的原图。 原容器中写了这样的css background-image: url(&quot;path/to/image&quot;); 为了格式统一，我都设定了url的括号中有引号 lightbox本身只有一个容器，里面有个img标签，当点击画面中容器后，显示lightbox并且把img标签的src置为path/to/image 所以我就找到这个元素用jquery想取出url，用正则表达式取里面的内容。 var matchobj = $el.css(&quot;background-image&quot;).match(/^url\(\&quot;(.*)\&quot;\)$/); var matchurl = matchobj[1]; 在chrome浏览器中这样写是没问题的，但是在safari浏览器中会报错，无法取一个null对象的下标为1的内容。 我alert了一下$el.css(&quot;background-image&quot;)，才发现在Safari 浏览器中渲染时，字符串被修改了。得出的字符串是url(path/to/image)，引号被删除了。 虽然修改正则表达式也能解决，但我觉得用正则来match css中的字符串不是一个好方式，所以就新定义了个属性，data-lightbox=&quot;path/to/url&quot;，在js中通过attr去取，这样可以避免字符串进行处理的问题，而且应该更加快速一点。</summary></entry><entry><title type="html">鸡年计划回顾周报一</title><link href="/uncategorized/2017/02/12/weekly1.html" rel="alternate" type="text/html" title="鸡年计划回顾周报一" /><published>2017-02-12T18:47:05+08:00</published><updated>2017-02-12T18:47:05+08:00</updated><id>/uncategorized/2017/02/12/weekly1</id><content type="html" xml:base="/uncategorized/2017/02/12/weekly1.html">&lt;p&gt;计划既然定了，就应该更认真地面对，这次与神秘友人一起制定的计划，双方互相知道互相监督，会更有一些羞耻心和好胜心，所以我会时常地更新周报，刷新一下自己计划完成的进展。&lt;/p&gt;
&lt;p&gt;首先第一部分，讲讲自己的职业生涯。&lt;/p&gt;
&lt;p&gt;这周也是中规中矩地在做一些需求，稍微熟悉了一下backbone做单页应用的方式，虽然完成了需求，但还是让我们的组长先写了boilerplate，一开始有一个坑，用nodejs把backbone的代码require进来是比较复杂的，总会有一个错误信息，主要原因就是backbone.$ i not a function，最后还是查了stackoverflow有个帖子，说了还需要依赖一个backbone jquery之类的库，后来觉得太庞大了，就直接靠script标签在html文档里直接引入了。&lt;/p&gt;
&lt;p&gt;对于一些框架，我目前都是知其然而不知其所以然，比如对比不同框架的优劣，能做到的事情都很难判断。遇到问题自己解决的能力还比较差，在之后的工作中还是要想办法解决这些问题，提升一点独立解决问题的能力。&lt;/p&gt;
&lt;p&gt;另外说一句：啊，独立项目我好想做一个消除游戏啊&lt;/p&gt;
&lt;p&gt;然后讲讲自己的素养养成计划。&lt;/p&gt;
&lt;p&gt;这周读了一本书《呼兰河传》里面讲了清民国时期的小镇的生活，讲述了封建时代农村人民的质朴，也描绘了一些由于封建迷信造成的惨剧，总的来说，是一部还不错的书。但是呢，我会觉得这样的书并不会给我留下太多的东西，可能我还是以一种较为功利的心态去阅读的吧，总想着看一部什么书之后我能增长些什么知识，学会一些人生的经验，所以我可能也不会特意看一本书，就去写关于这本书的一些东西。不过我觉得也可以慢慢地品味文学本身，来消磨一些时光，顺便也想想如何在写作中学会使用一些文学的技巧。&lt;/p&gt;
&lt;p&gt;生活小品也是创作了一期，画工并没有什么进步，目前画得比较粗糙也比较慢，觉得可以做下一期前看一些教程先决定一下作画的方法。创意上我自认为还不错，当我完成足够多的生活小品后，我能不能给自己办个小展览呢？找出一个最喜欢的作品做成家里的挂画。&lt;/p&gt;
&lt;p&gt;第三，靠谱度～&lt;/p&gt;
&lt;p&gt;本周运动的目标勉强达到了，感觉还不错，有长时间的走路，也有两次比平时更加长的游泳锻炼，可以多多训练。&lt;/p&gt;
&lt;p&gt;拒绝邋遢，卫生状况的话，屋子还算没有太乱，及格分吧。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;</content><author><name>{&quot;display_name&quot;=&gt;&quot;nisiyu&quot;, &quot;login&quot;=&gt;&quot;nisiyu&quot;, &quot;email&quot;=&gt;&quot;nisiyu91@sina.com&quot;, &quot;url&quot;=&gt;&quot;&quot;}</name><email>nisiyu91@sina.com</email></author><summary type="html">计划既然定了，就应该更认真地面对，这次与神秘友人一起制定的计划，双方互相知道互相监督，会更有一些羞耻心和好胜心，所以我会时常地更新周报，刷新一下自己计划完成的进展。 首先第一部分，讲讲自己的职业生涯。 这周也是中规中矩地在做一些需求，稍微熟悉了一下backbone做单页应用的方式，虽然完成了需求，但还是让我们的组长先写了boilerplate，一开始有一个坑，用nodejs把backbone的代码require进来是比较复杂的，总会有一个错误信息，主要原因就是backbone.$ i not a function，最后还是查了stackoverflow有个帖子，说了还需要依赖一个backbone jquery之类的库，后来觉得太庞大了，就直接靠script标签在html文档里直接引入了。 对于一些框架，我目前都是知其然而不知其所以然，比如对比不同框架的优劣，能做到的事情都很难判断。遇到问题自己解决的能力还比较差，在之后的工作中还是要想办法解决这些问题，提升一点独立解决问题的能力。 另外说一句：啊，独立项目我好想做一个消除游戏啊 然后讲讲自己的素养养成计划。 这周读了一本书《呼兰河传》里面讲了清民国时期的小镇的生活，讲述了封建时代农村人民的质朴，也描绘了一些由于封建迷信造成的惨剧，总的来说，是一部还不错的书。但是呢，我会觉得这样的书并不会给我留下太多的东西，可能我还是以一种较为功利的心态去阅读的吧，总想着看一部什么书之后我能增长些什么知识，学会一些人生的经验，所以我可能也不会特意看一本书，就去写关于这本书的一些东西。不过我觉得也可以慢慢地品味文学本身，来消磨一些时光，顺便也想想如何在写作中学会使用一些文学的技巧。 生活小品也是创作了一期，画工并没有什么进步，目前画得比较粗糙也比较慢，觉得可以做下一期前看一些教程先决定一下作画的方法。创意上我自认为还不错，当我完成足够多的生活小品后，我能不能给自己办个小展览呢？找出一个最喜欢的作品做成家里的挂画。 第三，靠谱度～ 本周运动的目标勉强达到了，感觉还不错，有长时间的走路，也有两次比平时更加长的游泳锻炼，可以多多训练。 拒绝邋遢，卫生状况的话，屋子还算没有太乱，及格分吧。 &amp;nbsp;</summary></entry><entry><title type="html">生活小品第一期 隐藏在绷带底下的秘密</title><link href="/%E7%94%9F%E6%B4%BB%E5%B0%8F%E5%93%81/2017/02/12/lifepaint01.html" rel="alternate" type="text/html" title="生活小品第一期 隐藏在绷带底下的秘密" /><published>2017-02-12T04:31:52+08:00</published><updated>2017-02-12T04:31:52+08:00</updated><id>/%E7%94%9F%E6%B4%BB%E5%B0%8F%E5%93%81/2017/02/12/lifepaint01</id><content type="html" xml:base="/%E7%94%9F%E6%B4%BB%E5%B0%8F%E5%93%81/2017/02/12/lifepaint01.html">&lt;p&gt;这一年我决定将我的&amp;ldquo;创作事业&amp;rdquo;进行下去，将会不定期地展示一些自己用数位板创作的生活中发生的事情。&lt;/p&gt;
&lt;p&gt;过年的时候，在带朋友的猫，有天早上我发现我的面包被猫撕开了，我就特别生气想要去打它，结果反倒被猫抓出了一些伤口。&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;alignnone size-full wp-image-166&quot; src=&quot;http://45.32.35.73/wordpress/wp-content/uploads/2017/02/伤口1.png&quot; alt=&quot;伤口1&quot; width=&quot;595&quot; height=&quot;842&quot; /&gt;&lt;/p&gt;
&lt;p&gt;出现伤口后，要不做一点措施来治疗吧！&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;alignnone size-full wp-image-163&quot; src=&quot;http://45.32.35.73/wordpress/wp-content/uploads/2017/02/绷带.png&quot; alt=&quot;绷带&quot; width=&quot;595&quot; height=&quot;842&quot; /&gt;&lt;/p&gt;
&lt;p&gt;伤口还是隐隐作痛，觉得好像渐渐发生了什么微妙的事情。。。&lt;/p&gt;
&lt;p&gt;拆开绷带后，会发现什么呢？&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;alignnone size-full wp-image-164&quot; src=&quot;http://45.32.35.73/wordpress/wp-content/uploads/2017/02/疯狂尬舞.png&quot; alt=&quot;疯狂尬舞&quot; width=&quot;595&quot; height=&quot;842&quot; /&gt; &lt;img class=&quot;alignnone size-full wp-image-167&quot; src=&quot;http://45.32.35.73/wordpress/wp-content/uploads/2017/02/弯曲的嘴眼.png&quot; alt=&quot;弯曲的嘴眼&quot; width=&quot;595&quot; height=&quot;842&quot; /&gt; &lt;img class=&quot;alignnone size-full wp-image-165&quot; src=&quot;http://45.32.35.73/wordpress/wp-content/uploads/2017/02/画满爱心的长颈鹿.png&quot; alt=&quot;画满爱心的长颈鹿&quot; width=&quot;595&quot; height=&quot;842&quot; /&gt; &lt;img class=&quot;alignnone size-full wp-image-168&quot; src=&quot;http://45.32.35.73/wordpress/wp-content/uploads/2017/02/有魔力的邪眼.png&quot; alt=&quot;有魔力的邪眼&quot; width=&quot;595&quot; height=&quot;842&quot; /&gt;&lt;/p&gt;</content><author><name>{&quot;display_name&quot;=&gt;&quot;nisiyu&quot;, &quot;login&quot;=&gt;&quot;nisiyu&quot;, &quot;email&quot;=&gt;&quot;nisiyu91@sina.com&quot;, &quot;url&quot;=&gt;&quot;&quot;}</name><email>nisiyu91@sina.com</email></author><summary type="html">这一年我决定将我的&amp;ldquo;创作事业&amp;rdquo;进行下去，将会不定期地展示一些自己用数位板创作的生活中发生的事情。 过年的时候，在带朋友的猫，有天早上我发现我的面包被猫撕开了，我就特别生气想要去打它，结果反倒被猫抓出了一些伤口。 出现伤口后，要不做一点措施来治疗吧！ 伤口还是隐隐作痛，觉得好像渐渐发生了什么微妙的事情。。。 拆开绷带后，会发现什么呢？</summary></entry><entry><title type="html">迟来的新年计划？</title><link href="/uncategorized/2017/02/08/plan.html" rel="alternate" type="text/html" title="迟来的新年计划？" /><published>2017-02-08T14:51:45+08:00</published><updated>2017-02-08T14:51:45+08:00</updated><id>/uncategorized/2017/02/08/plan</id><content type="html" xml:base="/uncategorized/2017/02/08/plan.html">&lt;p&gt;猴年已过，迎来了鸡年。没有太多的过年气氛，从初一开始后就几乎没怎么沉醉于过年，只是把过年当作是一个普通的假日。我的这一年觉得过得特别开心，迈出了很多第一步，脚步有些颤有些不稳，但我觉得还是迈向着一个不错的轨道。&lt;/p&gt;
&lt;p&gt;过年时与一个特别的友人聊天，友人说想要定一个新年计划，我是一个跟风狗，不太爱计划什么，但是看到别人定个计划，总觉得自己也不想输，也要屁颠屁颠地定个计划，并与友人之间下一个赌注，互相监督。在此我想要把我的计划列在这里，让友人和读者（可能并没有）见证一下。如果完不成，可以针对未完成的项目进行惩罚：如 体罚 打扫卫生 做饭 写应用 写网站 暖床等等（具体还没有太多想好）。&lt;/p&gt;
&lt;p&gt;我决定我的计划从三个不同的方面开始：&lt;/p&gt;
&lt;p&gt;第一个方面是提升我在&lt;span style=&quot;color: #ff0000;&quot;&gt;&lt;strong&gt;职业生涯&lt;/strong&gt;&lt;/span&gt;上的水平，2016年我才刚刚转身，现在觉得还有特别多自己认为不靠谱的地方，觉得自己做的工作呢，可能也是很容易被替代的，让我自己觉得有些羞愧。&lt;/p&gt;
&lt;p&gt;第二个方面是让自己成为&lt;span style=&quot;color: #ff0000;&quot;&gt;&lt;strong&gt;更酷&lt;/strong&gt;&lt;/span&gt;的人，追寻一点人生爱好，2016年我正在渐渐地从不酷的人渐渐脱出，开始成为自己，看出了一些可喜的征兆，当然一切都还不够。&lt;/p&gt;
&lt;p&gt;第三个方面是提升自己的&lt;span style=&quot;color: #ff0000;&quot;&gt;&lt;strong&gt;靠谱&lt;/strong&gt;&lt;/span&gt;程度，从各种方面吧，今年准备做点小小的努力。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;p&gt;以下就是我的计划的markdown：&lt;/p&gt;
&lt;p&gt;# 计划&lt;br /&gt;
&gt; 愿这个计划能指引我们的生活，使我们成为更好的人。&lt;/p&gt;
&lt;p&gt;## 职业身涯&lt;br /&gt;
---&lt;br /&gt;
- 工作 deadline: 鸡年年末&lt;br /&gt;
- [ ] 主导hold住一个项目 or 合作hold住两个以上项目&lt;br /&gt;
- [ ] 让自己有脸吹一年的效率改进&lt;/p&gt;
&lt;p&gt;---&lt;/p&gt;
&lt;p&gt;- 文档教程类 deadline: 3月31日&lt;br /&gt;
- [ ] nodejs官方文档&lt;br /&gt;
- [ ] react官方文档&lt;/p&gt;
&lt;p&gt;---&lt;/p&gt;
&lt;p&gt;- 维护2个项目 deadline: 半年一个&lt;br /&gt;
- [ ] 一个实用项目&lt;br /&gt;
- [ ] 一个娱乐项目&lt;/p&gt;
&lt;p&gt;## 成为更酷的人&lt;br /&gt;
---&lt;br /&gt;
- 数位板创作&lt;br /&gt;
- [ ] 日常小品 0/30&lt;br /&gt;
- [ ] 挑战目标: 一个系列漫画&lt;br /&gt;
---&lt;br /&gt;
- 读书&lt;br /&gt;
- [ ] 有趣的书 读下来分享 0/20&lt;br /&gt;
---&lt;br /&gt;
- 博客&lt;br /&gt;
- [ ] 双周发 0/25&lt;br /&gt;
---&lt;br /&gt;
- 配音或者电台节目&lt;br /&gt;
- [ ] 挑战：0/1&lt;/p&gt;
&lt;p&gt;## 可靠！&lt;br /&gt;
---&lt;br /&gt;
- 学车 deadline: 年末&lt;br /&gt;
- [ ] 学车&lt;/p&gt;
&lt;p&gt;---&lt;br /&gt;
- 健身 deadline: 年末&lt;br /&gt;
- [ ] 保证每周进行2次40分钟以上的健身 0/100&lt;/p&gt;
&lt;p&gt;---&lt;br /&gt;
- 拒绝邋遢&lt;br /&gt;
- [ ] 整理好屋子，每周按时清扫&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;p&gt;同时，友人想要早睡早起，我也跟着风地早睡早起了。。。算是我的一个附加任务吧，加了个油。我要每周update在博客上。友人看到请留言共勉，谢谢。&lt;/p&gt;</content><author><name>{&quot;display_name&quot;=&gt;&quot;nisiyu&quot;, &quot;login&quot;=&gt;&quot;nisiyu&quot;, &quot;email&quot;=&gt;&quot;nisiyu91@sina.com&quot;, &quot;url&quot;=&gt;&quot;&quot;}</name><email>nisiyu91@sina.com</email></author><summary type="html">猴年已过，迎来了鸡年。没有太多的过年气氛，从初一开始后就几乎没怎么沉醉于过年，只是把过年当作是一个普通的假日。我的这一年觉得过得特别开心，迈出了很多第一步，脚步有些颤有些不稳，但我觉得还是迈向着一个不错的轨道。 过年时与一个特别的友人聊天，友人说想要定一个新年计划，我是一个跟风狗，不太爱计划什么，但是看到别人定个计划，总觉得自己也不想输，也要屁颠屁颠地定个计划，并与友人之间下一个赌注，互相监督。在此我想要把我的计划列在这里，让友人和读者（可能并没有）见证一下。如果完不成，可以针对未完成的项目进行惩罚：如 体罚 打扫卫生 做饭 写应用 写网站 暖床等等（具体还没有太多想好）。 我决定我的计划从三个不同的方面开始： 第一个方面是提升我在职业生涯上的水平，2016年我才刚刚转身，现在觉得还有特别多自己认为不靠谱的地方，觉得自己做的工作呢，可能也是很容易被替代的，让我自己觉得有些羞愧。 第二个方面是让自己成为更酷的人，追寻一点人生爱好，2016年我正在渐渐地从不酷的人渐渐脱出，开始成为自己，看出了一些可喜的征兆，当然一切都还不够。 第三个方面是提升自己的靠谱程度，从各种方面吧，今年准备做点小小的努力。 &amp;nbsp; 以下就是我的计划的markdown： # 计划 &gt; 愿这个计划能指引我们的生活，使我们成为更好的人。 ## 职业身涯 --- - 工作 deadline: 鸡年年末 - [ ] 主导hold住一个项目 or 合作hold住两个以上项目 - [ ] 让自己有脸吹一年的效率改进 --- - 文档教程类 deadline: 3月31日 - [ ] nodejs官方文档 - [ ] react官方文档 --- - 维护2个项目 deadline: 半年一个 - [ ] 一个实用项目 - [ ] 一个娱乐项目 ## 成为更酷的人 --- - 数位板创作 - [ ] 日常小品 0/30 - [ ] 挑战目标: 一个系列漫画 --- - 读书 - [ ] 有趣的书 读下来分享 0/20 --- - 博客 - [ ] 双周发 0/25 --- - 配音或者电台节目 - [ ] 挑战：0/1 ## 可靠！ --- - 学车 deadline: 年末 - [ ] 学车 --- - 健身 deadline: 年末 - [ ] 保证每周进行2次40分钟以上的健身 0/100 --- - 拒绝邋遢 - [ ] 整理好屋子，每周按时清扫 &amp;nbsp; 同时，友人想要早睡早起，我也跟着风地早睡早起了。。。算是我的一个附加任务吧，加了个油。我要每周update在博客上。友人看到请留言共勉，谢谢。</summary></entry><entry><title type="html">那些年玩前端遇到的坑们（三）——video不是你想加，想加就能加，腾讯爸爸我错了。</title><link href="/uncategorized/2017/01/12/videos.html" rel="alternate" type="text/html" title="那些年玩前端遇到的坑们（三）&amp;mdash;&amp;mdash;video不是你想加，想加就能加，腾讯爸爸我错了。" /><published>2017-01-12T17:28:12+08:00</published><updated>2017-01-12T17:28:12+08:00</updated><id>/uncategorized/2017/01/12/videos</id><content type="html" xml:base="/uncategorized/2017/01/12/videos.html">&lt;p&gt;0x00 引入视频&lt;/p&gt;
&lt;p&gt;我们的客户经常会问我们需要加视频，之前并没有用html5做过视频的内容，所以练习了那么一下下。具体的文档呢，可以通过mdn查看。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video&quot;&gt;https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;html5中的视频，可以通过一个video 标签来引入&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&lt;video  src=&quot;your_video_url&quot; preload=&quot;&quot; autoplay=&quot;autoplay&quot; loop=&quot;loop&quot; controls=&quot;controls&quot;&gt;&lt;/video&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;用这个引入视频后，在电脑上比较正常的浏览器，只要不是上古时代的，基本都可以播放。&lt;/p&gt;
&lt;p&gt;并且根据属性填写，&lt;/p&gt;
&lt;p&gt;autoplay支持自动播放&lt;/p&gt;
&lt;p&gt;loop支持循环播放&lt;/p&gt;
&lt;p&gt;controls表示支持下方出现panel可以控制视频播放暂停空降。&lt;/p&gt;
&lt;p&gt;0x01 查看效果&lt;/p&gt;
&lt;p&gt;电脑上不出所料的是好的。&lt;/p&gt;
&lt;p&gt;在安卓的微信上出现了一个蛋疼的问题，视频的z-index永远是最高的，会遮盖住webapp中的工具栏，无论如何调整dom中元素的z-index，都没用，永远在最上。&lt;/p&gt;
&lt;p&gt;去查了下腾讯官方的信息&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;alignnone size-full wp-image-154&quot; src=&quot;http://45.32.35.73/wordpress/wp-content/uploads/2017/01/剪贴板_2016-12-20_18-24.png&quot; alt=&quot;剪贴板_2016-12-20_18-24&quot; width=&quot;1404&quot; height=&quot;316&quot; /&gt;&lt;/p&gt;
&lt;p&gt;而且腾讯在上面的独立播放器中也会加入一些私货。。。播放器也会推腾讯自己的广告。。。&lt;/p&gt;
&lt;p&gt;还有一个比较普遍的问题是video标签中设置成autoplay时，在手机端不会自动播放，当然这点很正常，可以防止手机上偷跑流量。&lt;/p&gt;
&lt;p&gt;0x03 解决方式&lt;/p&gt;
&lt;p&gt;安卓的微信上浏览器只能用play函数控制播放，这样会打开一个全屏的播放器。所以在微信端可以判断一下隐藏video标签，显示一个视频的缩略图。点击缩略图调用这个play函数就可以了。千万不能都显示。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://faconparfums.heidianer.com/products/TIGEDELUMIRE&quot;&gt;http://faconparfums.heidianer.com/products/TIGEDELUMIRE&lt;/a&gt;/&lt;/p&gt;
&lt;p&gt;可以参考以上的页面，代码可以如下&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;javascript&quot;&gt;if (isWeixin()) {
 } else {
 $(&quot;.video-wrapper&quot;).removeClass('small--hidden');
 $(&quot;.img&quot;).addClass('small--hidden');
 }
 $(&quot;.img, img&quot;).on('click', function(){$(&quot;video&quot;)[0].play();});
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;</content><author><name>{&quot;display_name&quot;=&gt;&quot;nisiyu&quot;, &quot;login&quot;=&gt;&quot;nisiyu&quot;, &quot;email&quot;=&gt;&quot;nisiyu91@sina.com&quot;, &quot;url&quot;=&gt;&quot;&quot;}</name><email>nisiyu91@sina.com</email></author><summary type="html">0x00 引入视频 我们的客户经常会问我们需要加视频，之前并没有用html5做过视频的内容，所以练习了那么一下下。具体的文档呢，可以通过mdn查看。 https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video html5中的视频，可以通过一个video 标签来引入 用这个引入视频后，在电脑上比较正常的浏览器，只要不是上古时代的，基本都可以播放。 并且根据属性填写， autoplay支持自动播放 loop支持循环播放 controls表示支持下方出现panel可以控制视频播放暂停空降。 0x01 查看效果 电脑上不出所料的是好的。 在安卓的微信上出现了一个蛋疼的问题，视频的z-index永远是最高的，会遮盖住webapp中的工具栏，无论如何调整dom中元素的z-index，都没用，永远在最上。 去查了下腾讯官方的信息 而且腾讯在上面的独立播放器中也会加入一些私货。。。播放器也会推腾讯自己的广告。。。 还有一个比较普遍的问题是video标签中设置成autoplay时，在手机端不会自动播放，当然这点很正常，可以防止手机上偷跑流量。 0x03 解决方式 安卓的微信上浏览器只能用play函数控制播放，这样会打开一个全屏的播放器。所以在微信端可以判断一下隐藏video标签，显示一个视频的缩略图。点击缩略图调用这个play函数就可以了。千万不能都显示。 http://faconparfums.heidianer.com/products/TIGEDELUMIRE/ 可以参考以上的页面，代码可以如下 &amp;nbsp; if (isWeixin()) { } else { $(&quot;.video-wrapper&quot;).removeClass('small--hidden'); $(&quot;.img&quot;).addClass('small--hidden'); } $(&quot;.img, img&quot;).on('click', function(){$(&quot;video&quot;)[0].play();}); &amp;nbsp;</summary></entry><entry><title type="html">测试一下paypal链接，给我捐款吧</title><link href="/uncategorized/2016/10/21/testpaypal.html" rel="alternate" type="text/html" title="测试一下paypal链接，给我捐款吧" /><published>2016-10-21T03:11:47+08:00</published><updated>2016-10-21T03:11:47+08:00</updated><id>/uncategorized/2016/10/21/testpaypal</id><content type="html" xml:base="/uncategorized/2016/10/21/testpaypal.html">&lt;form action=&quot;https://www.paypal.com/cgi-bin/webscr&quot; method=&quot;post&quot; target=&quot;_top&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;cmd&quot; value=&quot;_s-xclick&quot;&gt;&lt;br /&gt;
&lt;input type=&quot;hidden&quot; name=&quot;hosted_button_id&quot; value=&quot;JZZC2T6CWN99E&quot;&gt;&lt;br /&gt;
&lt;input type=&quot;hidden&quot; name=&quot;charset&quot; value=&quot;utf-8&quot;/&gt;&lt;/p&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td&gt;&lt;input type=&quot;hidden&quot; name=&quot;on0&quot; value=&quot;给博主捐1美金并留言&quot;&gt;给博主捐1美金并留言&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;os0&quot; maxlength=&quot;200&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;p&gt;&lt;input type=&quot;image&quot; src=&quot;https://www.paypalobjects.com/zh_XC/C2/i/btn/btn_buynowCC_LG.gif&quot; border=&quot;0&quot; name=&quot;submit&quot; alt=&quot;PayPal&amp;mdash;&amp;mdash;最安全便捷的在线支付方式！&quot;&gt;&lt;br /&gt;
&lt;img alt=&quot;&quot; border=&quot;0&quot; src=&quot;https://www.paypalobjects.com/zh_XC/i/scr/pixel.gif&quot; width=&quot;1&quot; height=&quot;1&quot;&gt;&lt;br /&gt;
&lt;/form&gt;</content><author><name>{&quot;display_name&quot;=&gt;&quot;nisiyu&quot;, &quot;login&quot;=&gt;&quot;nisiyu&quot;, &quot;email&quot;=&gt;&quot;nisiyu91@sina.com&quot;, &quot;url&quot;=&gt;&quot;&quot;}</name><email>nisiyu91@sina.com</email></author><summary type="html">给博主捐1美金并留言</summary></entry></feed>